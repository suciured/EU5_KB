REPLACE:country_name_construction = {

	#the REPLACE command is used to replace the original country flavor file
	
	type = country
	
	# adjective prefix rank
	text = {
		localization_key = ctf_loc_cons_apr
		trigger = {
			has_variable = ctf_var_cons_apr
		}
	}
	
	# name
	text = {
		localization_key = ctf_loc_cons_n
		trigger = {
			has_variable = ctf_var_cons_n
		}
	}
	
	# prefix adjective rank
	text = {
		localization_key = ctf_loc_cons_par
		trigger = {
			has_variable = ctf_var_cons_par
		}
	}
	
	# prefix name
	text = {
		localization_key = ctf_loc_cons_pn
		trigger = {
			has_variable = ctf_var_cons_pn
		}
	}
	
	# prefix name rank
	text = {
		localization_key = ctf_loc_cons_pnr
		trigger = {
			has_variable = ctf_var_cons_pnr
		}
	}
	
	# prefix rank
	text = {
		localization_key = ctf_loc_cons_pr
		trigger = {
			has_variable = ctf_var_cons_pr
		}
	}
	
	# prefix rank of name
	text = {
		localization_key = ctf_loc_cons_pron
		trigger = {
			has_variable = ctf_var_cons_pron
		}
	}
	
	# prefix rank of the adjective
	text = {
		localization_key = ctf_loc_cons_prota
		trigger = {
			has_variable = ctf_var_cons_prota
		}
	}
	
	# prefix rank of the adjectives
	text = {
		localization_key = ctf_loc_cons_protas
		trigger = {
			has_variable = ctf_var_cons_protas
		}
	}
	
	######## START OF COPY ########
	
	text = {
		localization_key = country_name_construction_name
		trigger = {
			OR = {
				AND = {
					tag = PAP
					has_reform = government_reform:papacy_reform
				}
			}
		}
	}
	text = {
		localization_key = country_name_construction_prefix_rank_of_name_but_map_is_just_prefix_rank
		trigger = {
			OR = {
				AND = {
					tag = GBR
					coa_def_GBR_uk_trigger = yes
				}
				AND = {
					tag = MAM
					OR = {
						country_rank = country_rank:rank_empire
						country_rank = country_rank:rank_kingdom
					}
					religion.group = religion_group:muslim
				}
				AND = {
					tag = DAU
					OR = {
						country_rank = country_rank:rank_duchy
						country_rank = country_rank:rank_county
					}
				}
				AND = {
					tag = PAL
					OR = {
						country_rank = country_rank:rank_duchy
						country_rank = country_rank:rank_county
					}
				}
			}
		}
	}
	text = {
		localization_key = country_name_construction_prefix_name_rank
		trigger = {
			government_type = government_type:monarchy
			OR = {
				country_rank = country_rank:rank_kingdom 
				country_rank = country_rank:rank_empire
			}
			tag = MAL
		}
	}
	text = {
		localization_key = country_name_construction_prefix_name
		trigger = {
			country_rank ?= country_rank:rank_empire
			court_language ?= { language_family ?= language_family:chinese_language_family }
		}
	}
	text = {
		localization_key = country_name_construction_prefix_adjective_rank
		trigger = {
			OR = {
				AND = {
					country_rank = country_rank:rank_empire 
					NOT = { tag = LAT }
				}
				
				tag = TIM
				tag = GLH
				tag = CHG
				tag = LAT
				AND = {
					tag = PLC
					country_rank = country_rank:rank_kingdom
				}
				
				AND = {
					country_rank = country_rank:rank_duchy
					government_type = government_type:republic
					culture = culture:frisian
				}
				
				AND = {
					tag = HSA
					government_type = government_type:republic
				}
				
				AND = {
					has_reform = government_reform:military_order_reform
					OR = {
						country_rank = country_rank:rank_kingdom
						country_rank = country_rank:rank_duchy
					}
				}
				AND = {
					has_reform = government_reform:japanese_clan
					country_rank = country_rank:rank_county
				}
				country_type = pop
			}
		}
	}
	text = {
		localization_key = country_name_construction_prefix_rank_of_name
		fallback = yes
	}

	######## END OF COPY ########

}

ctf_loc_cpre = {
	
	type = country
	
	text = {
		localization_key = ctf_loc_cpre_united
		trigger = {
			has_variable = ctf_var_cpre_united
		}
	}
	
	text = {
		localization_key = ctf_loc_cpre
		fallback = yes
	}
	
}

# y -> ies
# 0 -> -es
# 0 -> -s
ctf_loc_pl = {
	
	type = country

	## -ies
	#text = {
	#	localization_key = ctf_loc_pl_ies
	#	trigger = {
	#		has_variable = ctf_var_rplu
	#	}
	#}
	
	# Return Plural -es
	text = {
		localization_key = ctf_loc_pl_es
		trigger = {
			has_variable = ctf_var_rplu
			OR = {
				has_variable = ctf_var_march
				has_variable = ctf_var_marcher_lord
			}
		}
	}

	# Return Plural -s
	text = {
		localization_key = ctf_loc_pl_s
		trigger = {
			has_variable = ctf_var_rplu
		}
	}
	
	# Return Singular
	text = {
		localization_key = ctf_loc_pl
		fallback = yes
	}
	
}